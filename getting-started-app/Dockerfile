# PLATAFORMA E IMAGEM
FROM node:12-alpine 

# DEFININDO DIRETÓRIO PADRÃO
WORKDIR /app

# PRIMEIRO PONTO DIRETÓRIO DA APLICAÇÃO / SEGUNDO PONTO DIRETÓRIO DE ORIGEM
COPY . .

# INSTALAÇÃO DE DEPÊNCIAS - INSTALANDO PYTHON
RUN apk add --no-cache python2 g++ make

# INSTALAÇÃO DAS DEPÊNDENCIAS DO APP
RUN yarn install --production 

# DEFININDO A ROTA DE UMA API
ENV API_URL=http://api.products/source/

# EXECUÇÃO VIA TERMINAL
CMD ["node", "src/index.js"]

# DEFININDO A PORTA DO CONTAINER
EXPOSE 3000

